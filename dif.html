<!DOCTYPE html>
<html>
    <head>
        <title>Architektur</title>
        <link rel="stylesheet" href="stylesheet.css">
        <script>
            let currentIndex = 0;  // Track the current image index
            let images = ['firstPageImages/1.jpg', 'firstPageImages/2.jpg', 'firstPageImages/3.jpg']; // Add paths to your images
            let autoCycleInterval; // To store the interval ID

            // Function to show the next image
            function showImage(index) {
                const imgElement = document.getElementById('mainImage');
                const imageCounter = document.getElementById('imageCounter');
                
                // Fade out the image
                imgElement.classList.remove('fade-in');
                imgElement.classList.add('fade-out');

                // Wait for the fade-out to finish before changing the image
                setTimeout(() => {
                    imgElement.src = images[index];  // Set the new image src
                    imageCounter.textContent = `${index + 1} / ${images.length}`;  // Show the current image index
                    // Fade in the image
                    imgElement.classList.remove('fade-out');
                    imgElement.classList.add('fade-in');
                }, 500); // This matches the fade-out duration
            }

            // Cycle to the next image
            function nextImage() {
                currentIndex = (currentIndex + 1) % images.length;  // Cycle through images
                showImage(currentIndex);
            }

            // Cycle to the previous image
            function previousImage() {
                currentIndex = (currentIndex - 1 + images.length) % images.length;  // Cycle backwards
                showImage(currentIndex);
            }

            // Handle click event to detect left or right click
            function handleClick(event) {
                const clickX = event.clientX;  // X-coordinate of the click
                const halfWidth = event.currentTarget.offsetWidth / 2;  // Half the width of the contentHover div

                if (clickX < halfWidth) {
                    previousImage();  // Clicked left side, show previous image
                } else {
                    nextImage();  // Clicked right side, show next image
                }

                // Reset the automatic cycling
                resetAutoCycle();
            }

            // Start automatic image cycling every 3 seconds
            function startAutoCycle() {
                autoCycleInterval = setInterval(nextImage, 3000);  // Cycle images every 3 seconds
            }

            // Reset the automatic cycling (when user clicks)
            function resetAutoCycle() {
                clearInterval(autoCycleInterval);  // Clear the existing interval
                startAutoCycle();  // Restart it
            }

            // Show the image counter when hovering
            function showCounter() {
                document.getElementById('imageCounter').classList.add('visible');
            }

            // Hide the image counter when not hovering
            function hideCounter() {
                document.getElementById('imageCounter').classList.remove('visible');
            }

            // Initialize on page load
            window.onload = function() {
                showImage(currentIndex);  // Show the first image
                startAutoCycle();  // Start automatic cycling
            }
        </script>
    </head>
    <body>
        <div class="header">
            <a href="index.html">
                <img src="resources/logo.svg" alt="logo">
            </a>
        </div>
        <div class="contentHover" onclick="handleClick(event)" onmouseenter="showCounter()" onmouseleave="hideCounter()">
            <div class="content">
                <img id="mainImage" src="firstPageImages/1.jpg" alt="Bild 1" class="fade-in">
                <p id="imageCounter" class="imageCounter">1 / 3</p> <!-- Display image counter -->
            </div>
        </div>
        <div class="footer">
            <button type="menu">Men√º</button>
        </div>
    </body>
</html>
